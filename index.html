<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PicklePulse ‚Äî Pickleball Stats & Rating Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #050816;
      --card: #0f172a;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.15);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --danger: #ef4444;
      --border: #1f2937;
      --radius-xl: 24px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 40%, #000 100%);
      color: var(--text);
      padding: 16px;
    }

    .app-shell { max-width: 960px; margin: 0 auto 40px; }

    header {
      display: flex; align-items: center; justify-content: space-between;
      gap: 12px; margin-bottom: 18px;
    }

    .brand { display: flex; align-items: center; gap: 10px; }

    .brand-icon {
      width: 40px; height: 40px; border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #4ade80, #22c55e);
      box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
      display: flex; align-items: center; justify-content: center;
      font-weight: 800; color: #022c22; font-size: 20px;
    }

    .brand-text-title { font-weight: 700; font-size: 18px; letter-spacing: 0.02em; }
    .brand-text-sub { font-size: 12px; color: var(--muted); }

    header .tagline {
      font-size: 12px; color: var(--muted); max-width: 180px; text-align: right;
    }

    @media (max-width: 768px) {
      header { flex-direction: column; align-items: flex-start; }
      header .tagline { text-align: left; }
    }

    .grid {
      display: grid; grid-template-columns: minmax(0, 1.15fr) minmax(0, 1fr);
      gap: 16px;
    }

    @media (max-width: 768px) {
      .grid { grid-template-columns: minmax(0, 1fr); }
    }

    .card {
      background: radial-gradient(circle at top left, #111827, #020617);
      border-radius: var(--radius-xl); padding: 16px 14px 14px;
      border: 1px solid var(--border);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
    }

    .card-header {
      display: flex; justify-content: space-between; align-items: center;
      gap: 10px; margin-bottom: 12px;
    }

    .card-title { font-size: 14px; font-weight: 600; }
    .card-subtitle { font-size: 11px; color: var(--muted); }

    .pill {
      font-size: 11px; padding: 4px 8px; border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--muted);
      display: inline-flex; align-items: center; gap: 4px;
    }

    form {
      display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 12px;
    }

    .field { display: flex; flex-direction: column; gap: 4px; }
    .field-full { grid-column: 1 / -1; }

    label {
      font-size: 11px; text-transform: uppercase; letter-spacing: 0.06em;
      color: var(--muted);
    }

    input, select, textarea {
      background: #020617; border-radius: 12px;
      border: 1px solid #1f2937; padding: 8px 10px;
      color: var(--text); font-size: 13px; outline: none;
    }

    textarea { resize: vertical; min-height: 48px; }

    input:focus, select:focus, textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.5);
    }

    .score-inputs { display: flex; align-items: center; gap: 4px; }
    .score-inputs input { text-align: center; }

    .chips-row { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 6px; }

    .chip-toggle {
      font-size: 11px; padding: 4px 8px; border-radius: 999px;
      border: 1px solid #1f2937; background: #020617;
      cursor: pointer; color: var(--muted);
    }

    .chip-toggle.active {
      border-color: var(--accent); background: var(--accent-soft); color: var(--accent);
    }

    .btn-row { display: flex; gap: 8px; margin-top: 10px; }

    button {
      border-radius: 999px; border: none; padding: 9px 12px;
      font-size: 13px; font-weight: 500; cursor: pointer;
      display: inline-flex; align-items: center; justify-content: center;
    }

    .btn-primary {
      flex: 1; background: linear-gradient(135deg, #22c55e, #4ade80);
      color: #022c22; box-shadow: 0 10px 25px rgba(34,197,94,0.55);
    }

    .btn-ghost { background: rgba(15,23,42,0.95); border: 1px solid #1f2937; color: var(--muted); }

    .btn-ghost.danger { border-color: rgba(248,113,113,0.7); color: #fecaca; }
    .btn-ghost.secondary { border-color: rgba(148,163,184,0.6); }

    .rr-block {
      margin-top: 12px; padding-top: 10px; border-top: 1px dashed #1f2937;
      font-size: 11px; color: var(--muted);
    }

    .rr-title { font-size: 11px; font-weight: 600; color: #e5e7eb; margin-bottom: 6px; }

    .rr-list { margin-top: 6px; padding-left: 14px; }
    .rr-list li { margin-bottom: 4px; }

    .matches {
      max-height: 330px; overflow: auto; border-radius: 14px;
      border: 1px solid #111827; background: #020617;
    }

    .match-row {
      display: grid; grid-template-columns: 1.2fr 0.9fr 0.6fr 0.6fr;
      padding: 8px 10px; font-size: 11px;
      border-bottom: 1px solid rgba(15,23,42,0.9);
      align-items: center; gap: 6px;
    }

    .match-row.header {
      position: sticky; top: 0; z-index: 2;
      background: #020617; font-weight: 600;
      text-transform: uppercase; letter-spacing: 0.06em;
      color: var(--muted);
    }

    .match-main { display: flex; flex-direction: column; gap: 2px; }
    .match-title { font-size: 11px; }
    .match-meta { font-size: 10px; color: var(--muted); }

    .badge {
      display: inline-flex; align-items: center;
      padding: 2px 6px; border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 10px; color: var(--muted);
    }
    .badge.win { border-color: #22c55e; color: #bbf7d0; background: rgba(22,163,74,0.2); }
    .badge.loss { border-color: #ef4444; color: #fecaca; background: rgba(120,29,29,0.35); }

    .badge.type { border-style: dashed; }

    .score { font-weight: 600; font-size: 12px; }
    .empty-state { padding: 16px 10px; text-align: center; color: var(--muted); }

  </style>
</head>

<body>
  <div class="app-shell">
    <header>
      <div class="brand">
        <div class="brand-icon">PB</div>
        <div>
          <div class="brand-text-title">PicklePulse</div>
          <div class="brand-text-sub">Your pickleball stats & RR tracker</div>
        </div>
      </div>

      <div class="tagline">Log matches fast. Auto RR mode. DUPR-style rating.</div>
    </header>

    <div class="grid">
          <!-- LEFT SIDE: MATCH FORM + ROUND ROBIN -->
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title">Add Match</div>
            <div class="card-subtitle">Fast logging for singles & doubles.</div>
          </div>
          <div class="pill"><span>üèì</span> Local Save</div>
        </div>

        <form id="match-form">
          <!-- FORMAT -->
          <div class="field">
            <label for="playMode">Format</label>
            <select id="playMode">
              <option value="doubles">Doubles (2 vs 2)</option>
              <option value="singles">Singles (1 vs 1)</option>
            </select>
          </div>

          <!-- DATE -->
          <div class="field">
            <label for="date">Date</label>
            <input id="date" type="date" />
          </div>

          <!-- PLAYERS -->
          <div class="field">
            <label for="player1">Player 1</label>
            <input id="player1" type="text" placeholder="e.g. Neil" required />
          </div>

          <div class="field">
            <label for="player2">Player 2</label>
            <input id="player2" type="text" placeholder="Partner (doubles)" />
          </div>

          <div class="field">
            <label for="player3">Player 3</label>
            <input id="player3" type="text" placeholder="Opponent 1" />
          </div>

          <div class="field">
            <label for="player4">Player 4</label>
            <input id="player4" type="text" placeholder="Opponent 2 (doubles)" />
          </div>

          <!-- SCORE -->
          <div class="field field-full">
            <label>Score (Your side vs Opponents)</label>
            <div class="score-inputs">
              <input id="scoreUs" type="number" min="0" max="21" placeholder="11" />
              <span>‚Äì</span>
              <input id="scoreThem" type="number" min="0" max="21" placeholder="7" />
            </div>

            <!-- RESULT TOGGLES -->
            <div class="chips-row">
              <button type="button" class="chip-toggle active" data-win-state="auto">
                Auto win/loss
              </button>
              <button type="button" class="chip-toggle" data-win-state="win">Force Win</button>
              <button type="button" class="chip-toggle" data-win-state="loss">Force Loss</button>

              <button type="button" class="chip-toggle" id="roundRobinToggle">
                Round robin: OFF
              </button>
            </div>
          </div>

          <!-- MATCH TYPE -->
          <div class="field">
            <label for="matchType">Match Type</label>
            <select id="matchType">
              <option value="rec">Rec Play</option>
              <option value="ladder">Ladder</option>
              <option value="league">League</option>
              <option value="tournament">Tournament</option>
              <option value="drills">Drills / Practice</option>
            </select>
          </div>

          <div class="field">
            <label for="location">Location</label>
            <input id="location" type="text" placeholder="e.g. PickleRage Nocatee" />
          </div>

          <div class="field field-full">
            <label for="notes">Quick Notes (optional)</label>
            <textarea id="notes" placeholder="e.g. Backhand dinks strong today."></textarea>
          </div>

          <!-- BUTTONS -->
          <div class="btn-row field-full">
            <button type="submit" class="btn-primary">+ Save Match</button>
            <button type="button" id="clearAll" class="btn-ghost danger">Clear All</button>
          </div>
        </form>

        <!-- ROUND ROBIN GENERATOR -->
        <div class="rr-block">
          <div class="rr-title">Round Robin Generator</div>
          <div>Enter 4 players above. Choose format. Then:</div>

          <div class="btn-row" style="margin-top: 8px;">
            <button type="button" id="generateRR" class="btn-ghost secondary">
              Generate RR Schedule
            </button>
          </div>

          <div class="rr-view">
            <ul id="rrList" class="rr-list"></ul>
          </div>
        </div>
      </section>
            <!-- RIGHT SIDE: STATS + MATCH LIST -->
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title">Your Stats</div>
            <div class="card-subtitle">Wins, streaks, rating & history.</div>
          </div>
          <div class="pill" id="ratingPill">Rating: 3.50</div>
        </div>

        <!-- QUICK STATS -->
        <div class="stats-grid" style="
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
          margin-bottom: 14px;
        ">
          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Total Matches</div>
            <div id="statTotal" style="font-weight: 700; margin-top: 4px;">0</div>
          </div>

          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Win %</div>
            <div id="statWinPct" style="font-weight: 700; margin-top: 4px;">0%</div>
          </div>

          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Wins</div>
            <div id="statWins" style="font-weight: 700; margin-top: 4px;">0</div>
          </div>

          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Losses</div>
            <div id="statLosses" style="font-weight: 700; margin-top: 4px;">0</div>
          </div>

          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Streak</div>
            <div id="statStreak" style="font-weight: 700; margin-top: 4px;">0</div>
          </div>

          <div class="card-mini" style="
            background: #020617;
            border-radius: 16px;
            padding: 12px;
            border: 1px solid #1f2937;
          ">
            <div style="font-size: 11px; color: var(--muted);">Best Partner</div>
            <div id="statPartner" style="font-weight: 700; margin-top: 4px;">‚Äì</div>
          </div>
        </div>

        <!-- RESET BUTTON -->
        <button id="resetStats" class="btn-ghost danger" style="width: 100%; margin-bottom: 12px;">
          Reset All Data
        </button>

        <!-- MATCH HISTORY TABLE -->
        <div class="matches">
          <div class="match-row header">
            <div>Match</div>
            <div>Score</div>
            <div>Result</div>
            <div>Date</div>
          </div>
          <div id="matchList">
            <div class="empty-state">No matches yet ‚Äî log one!</div>
          </div>
        </div>
      </section>
    </div> <!-- end grid -->
    <script>
/* ============================================================
   ROUND ROBIN ENGINE ‚Äî Generator + Autofill + Auto-Advance
   ============================================================ */

let rrSchedule = null;    // full schedule of matches
let rrIndex = 0;          // current match pointer
let rrActive = false;     // RR ON/OFF state
let rrFormatLocked = null; // "singles" or "doubles" ‚Äî locked during RR

// Load RR state from localStorage
function loadRRState() {
  const saved = localStorage.getItem("rrState");
  if (!saved) return;

  const state = JSON.parse(saved);
  rrSchedule = state.schedule;
  rrIndex = state.index;
  rrActive = state.active;
  rrFormatLocked = state.format;

  if (rrActive && rrSchedule) {
    // display RR schedule
    renderRRList();
    document.getElementById("roundRobinToggle").classList.add("active");
    document.getElementById("roundRobinToggle").textContent = "Round robin: ON";

    // lock format dropdown
    if (rrFormatLocked) {
      const mode = document.getElementById("playMode");
      mode.value = rrFormatLocked;
      mode.disabled = true;
    }
  }
}

// Save RR state
function saveRRState() {
  localStorage.setItem("rrState", JSON.stringify({
    schedule: rrSchedule,
    index: rrIndex,
    active: rrActive,
    format: rrFormatLocked
  }));
}

// Clear RR state
function clearRRState() {
  rrSchedule = null;
  rrIndex = 0;
  rrActive = false;
  rrFormatLocked = null;
  localStorage.removeItem("rrState");

  document.getElementById("rrList").innerHTML = "";
  const t = document.getElementById("roundRobinToggle");
  t.classList.remove("active");
  t.textContent = "Round robin: OFF";

  const mode = document.getElementById("playMode");
  mode.disabled = false;
}

// ---------- Generate Round Robin ----------
function generateRoundRobin(players, mode) {
  const matches = [];

  if (mode === "singles") {
    // Singles: 4 players ‚Üí 6 matches
    for (let i = 0; i < players.length; i++) {
      for (let j = i + 1; j < players.length; j++) {
        matches.push({
          type: "singles",
          p1: players[i],
          p2: players[j],
        });
      }
    }
  } else {
    // Doubles ‚Äî fixed partner pairs, 2 teams
    matches.push({
      type: "doubles",
      team1: [players[0], players[1]],
      team2: [players[2], players[3]],
    });

    matches.push({
      type: "doubles",
      team1: [players[0], players[2]],
      team2: [players[1], players[3]],
    });

    matches.push({
      type: "doubles",
      team1: [players[0], players[3]],
      team2: [players[1], players[2]],
    });
  }

  return matches;
}

// ----- Render RR list -----
function renderRRList() {
  const ul = document.getElementById("rrList");
  ul.innerHTML = "";

  if (!rrSchedule) return;

  rrSchedule.forEach((m, idx) => {
    let text = "";

    if (m.type === "singles") {
      text = `${m.p1} vs ${m.p2}`;
    } else {
      text = `${m.team1[0]} & ${m.team1[1]} vs ${m.team2[0]} & ${m.team2[1]}`;
    }

    const li = document.createElement("li");
    li.textContent = (idx === rrIndex ? "üëâ " : "") + text;
    ul.appendChild(li);
  });
}

// ----- Autofill the Next RR Match into the Form -----
function autofillNextRRMatch() {
  if (!rrActive || !rrSchedule || rrIndex >= rrSchedule.length) return;

  const match = rrSchedule[rrIndex];
  const modeEl = document.getElementById("playMode");

  // LOCK format
  if (match.type === "singles") {
    modeEl.value = "singles";
    modeEl.disabled = true;
  } else {
    modeEl.value = "doubles";
    modeEl.disabled = true;
  }

  rrFormatLocked = match.type;
  saveRRState();

  // ---- FILL PLAYERS ----
  if (match.type === "singles") {
    document.getElementById("player1").value = match.p1;
    document.getElementById("player2").value = "";
    document.getElementById("player3").value = match.p2;
    document.getElementById("player4").value = "";
  } else {
    document.getElementById("player1").value = match.team1[0];
    document.getElementById("player2").value = match.team1[1];
    document.getElementById("player3").value = match.team2[0];
    document.getElementById("player4").value = match.team2[1];
  }

  // clear score & notes
  document.getElementById("scoreUs").value = "";
  document.getElementById("scoreThem").value = "";
  document.getElementById("notes").value = "";

  // ensure RR toggle looks ON
  const toggle = document.getElementById("roundRobinToggle");
  toggle.classList.add("active");
  toggle.textContent = "Round robin: ON";

  renderRRList();
}

// ----- Advance RR to next match -----
function advanceRR() {
  rrIndex++;

  // Completed all matches?
  if (rrIndex >= rrSchedule.length) {
    alert("üéâ Round Robin Complete ‚Äî All matches played!");
    clearRRState();
    return;
  }

  saveRRState();
  autofillNextRRMatch();
}

// ============================================================
// RR BUTTON CLICK
// ============================================================
document.getElementById("generateRR").addEventListener("click", () => {
  const mode = document.getElementById("playMode").value;

  // Gather players
  const p1 = document.getElementById("player1").value.trim();
  const p2 = document.getElementById("player2").value.trim();
  const p3 = document.getElementById("player3").value.trim();
  const p4 = document.getElementById("player4").value.trim();

  if (mode === "singles" && (!p1 || !p2 || !p3 || !p4)) {
    alert("Enter 4 player names for singles RR.");
    return;
  }

  if (mode === "doubles" && (!p1 || !p2 || !p3 || !p4)) {
    alert("Enter all 4 players for doubles RR.");
    return;
  }

  const players = [p1, p2, p3, p4];

  rrSchedule = generateRoundRobin(players, mode);
  rrIndex = 0;
  rrActive = true;
  rrFormatLocked = mode;

  saveRRState();
  renderRRList();
  autofillNextRRMatch();
});

// ============================================================
// RR TOGGLE BUTTON (manual ON/OFF)
// ============================================================
document.getElementById("roundRobinToggle").addEventListener("click", () => {
  if (rrActive) {
    // Turn OFF
    clearRRState();
  } else {
    // Turn ON (manual mode)
    rrActive = true;
    document.getElementById("roundRobinToggle").classList.add("active");
    document.getElementById("roundRobinToggle").textContent = "Round robin: ON";
    saveRRState();
  }
});

// Load existing RR session (if any)
loadRRState();
</script>
<script>
/* ============================================================
   MATCH STORAGE + STATS + RENDERING
   ============================================================ */

let matches = JSON.parse(localStorage.getItem("matches") || "[]");

// --------- Save matches back to localStorage ----------
function saveMatches() {
  localStorage.setItem("matches", JSON.stringify(matches));
}

// --------- Simple DUPR-style rating calculation ----------
function calculateRating() {
  if (matches.length === 0) return "3.50";

  let rating = 3.5;

  matches.forEach(m => {
    const diff = m.scoreUs - m.scoreThem;

    if (m.result === "win") {
      rating += 0.01 + diff * 0.001;
    } else {
      rating -= 0.01 + Math.abs(diff) * 0.001;
    }
  });

  if (rating < 2.0) rating = 2.0;
  if (rating > 6.5) rating = 6.5;

  return rating.toFixed(2);
}

// --------- Calculate stats ----------
function updateStats() {
  const total = matches.length;
  const wins = matches.filter(m => m.result === "win").length;
  const losses = total - wins;

  const winPct = total ? Math.round((wins / total) * 100) + "%" : "0%";

  // streak calculation
  let streak = 0;
  for (let i = matches.length - 1; i >= 0; i--) {
    if (matches[i].result === "win") streak++;
    else break;
  }

  // best partner
  const partnerCounts = {};
  matches.forEach(m => {
    if (m.partner && m.result === "win") {
      partnerCounts[m.partner] = (partnerCounts[m.partner] || 0) + 1;
    }
  });

  let bestPartner = "‚Äì";
  if (Object.keys(partnerCounts).length) {
    bestPartner = Object.entries(partnerCounts).sort((a, b) => b[1] - a[1])[0][0];
  }

  document.getElementById("statTotal").textContent = total;
  document.getElementById("statWins").textContent = wins;
  document.getElementById("statLosses").textContent = losses;
  document.getElementById("statWinPct").textContent = winPct;
  document.getElementById("statStreak").textContent = streak;
  document.getElementById("statPartner").textContent = bestPartner;

  const rating = calculateRating();
  document.getElementById("ratingPill").textContent = "Rating: " + rating;
}

// --------- Render match list ----------
function renderMatches() {
  const list = document.getElementById("matchList");
  list.innerHTML = "";

  if (matches.length === 0) {
    list.innerHTML = `<div class="empty-state">No matches yet ‚Äî log one!</div>`;
    return;
  }

  matches.slice().reverse().forEach(m => {
    const row = document.createElement("div");
    row.className = "match-row";

    const players = m.mode === "singles"
      ? `${m.p1} vs ${m.p3}`
      : `${m.p1} & ${m.p2} vs ${m.p3} & ${m.p4}`;

    row.innerHTML = `
      <div class="match-main">
        <div class="match-title">${players}</div>
        <div class="match-meta">${m.type} ‚Ä¢ ${m.location || "No location"}</div>
      </div>

      <div class="score">${m.scoreUs} ‚Äì ${m.scoreThem}</div>

      <div>
        <span class="badge ${m.result === "win" ? "win" : "loss"}">
          ${m.result}
        </span>
      </div>

      <div>${m.date}</div>
    `;

    list.appendChild(row);
  });
}

// ============================================================
// MATCH FORM SUBMIT (Handles Round Robin auto-advance)
// ============================================================
document.getElementById("match-form").addEventListener("submit", (e) => {
  e.preventDefault();

  const mode = document.getElementById("playMode").value;

  const p1 = document.getElementById("player1").value.trim();
  const p2 = document.getElementById("player2").value.trim();
  const p3 = document.getElementById("player3").value.trim();
  const p4 = document.getElementById("player4").value.trim();

  const scoreUs = parseInt(document.getElementById("scoreUs").value);
  const scoreThem = parseInt(document.getElementById("scoreThem").value);
  const date = document.getElementById("date").value || new Date().toISOString().slice(0, 10);
  const type = document.getElementById("matchType").value;
  const location = document.getElementById("location").value.trim();
  const notes = document.getElementById("notes").value.trim();

  if (isNaN(scoreUs) || isNaN(scoreThem)) {
    alert("Score is required.");
    return;
  }

  // auto win/loss
  let result = scoreUs > scoreThem ? "win" : "loss";

  matches.push({
    mode,
    type,
    p1, p2, p3, p4,
    scoreUs, scoreThem,
    result,
    partner: mode === "doubles" ? p2 : null,
    location,
    notes,
    date
  });

  saveMatches();
  updateStats();
  renderMatches();

  // If RR is active ‚Üí advance RR
  if (rrActive) {
    advanceRR();
  }
});

// ============================================================
// CLEAR ALL BUTTON
// ============================================================
document.getElementById("clearAll").addEventListener("click", () => {
  if (confirm("Clear all form fields?")) {
    document.getElementById("player1").value = "";
    document.getElementById("player2").value = "";
    document.getElementById("player3").value = "";
    document.getElementById("player4").value = "";
    document.getElementById("scoreUs").value = "";
    document.getElementById("scoreThem").value = "";
    document.getElementById("location").value = "";
    document.getElementById("notes").value = "";
  }
});

// ============================================================
// RESET ALL DATA
// ============================================================
document.getElementById("resetStats").addEventListener("click", () => {
  if (!confirm("Delete ALL match data? This cannot be undone.")) return;

  matches = [];
  saveMatches();
  updateStats();
  renderMatches();
  clearRRState();
});

// Initialize on load
updateStats();
renderMatches();

</script>

</body>
</html>